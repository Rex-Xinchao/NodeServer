<html>
<head>
    <meta charset="utf-8">
</head>
<body>
<p id="weather"/>
<img id="image"/>
<script type="text/javascript" src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<script>
  $.ajax({
    url: "http://127.0.0.1:3300/api/weather/city/101020100",
    type: 'GET',
    success: function (data) {
      var result = data;
      console.log(data.data);

      var list = eval(result);
      var weather = result.data.forecast[0].type;

      switch( weather ) {
        case "多云":
          document.getElementById("image").src = "./Cloudy.jpg"
          break;
        case "小雨":
          document.getElementById("image").src = "./Rain.jpg"
          break;
        case "大雨":
          document.getElementById("image").src = "./Fine.jpg"
          break;
      }
    },
    error: function () {
      $('#info').html("有问题");
    }
  });
</script>
</body>
</html>
